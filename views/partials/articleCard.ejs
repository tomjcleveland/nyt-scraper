<div class="card mb-4 shadow-sm">
  <div class="row g-0 align-items-stretch">
    <div class="col-md-4">
      <% if (article.rank) { %>
        <h2 class="position-absolute ms-3 mt-3"><span class="badge bg-primary">#<%= article.rank %></span></h2>
      <% } %>
      <% if (article.imageUrl) { %>
        <img style="object-fit: cover;" src="<%= article.imageUrl %>" class="h-100 card-img-top" alt="<%= article.canonicalheadline %>">
      <% } else { %>
        <div class="bg-dark h-100 d-flex align-items-center justify-content-center text-light py-5">
          <svg xmlns="http://www.w3.org/2000/svg" width="72" height="72" fill="currentColor" class="bi bi-file-earmark-richtext" viewBox="0 0 16 16">
            <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"/>
            <path d="M4.5 12.5A.5.5 0 0 1 5 12h3a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm0-2A.5.5 0 0 1 5 10h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm1.639-3.708l1.33.886 1.854-1.855a.25.25 0 0 1 .289-.047l1.888.974V8.5a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V8s1.54-1.274 1.639-1.208zM6.25 6a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5z"/>
          </svg>
        </div>
      <% } %>
    </div>
    <div class="col-md-4">
      <div class="card-body h-100 d-flex flex-column justify-content-between">
        <div>
          <% if (article.section) { %>
            <div class="mb-2"><span style="background-color: <%- stringToColor(article.section) %>;" class="badge"><%= article.section.toUpperCase() %></span></div>
          <% } %>
          <p class="card-text mb-2"><small><%= dayjs(article.published).format('MMMM D, YYYY') %></small></p>
          <h5 class="card-title"><%= article.canonicalheadline %></h5>
          <p class="card-text"><%= article.abstract %></p>
        </div>
        <a href="/articles/<%= article.id %>" class="stretched-link">See details</a>
      </div>
    </div>
    <div class="col-md-4 bg-light pt-4 pb-2">
      <div class="card-body">
        <%- include('../partials/articleStats', { article }) %>
      </div>
    </div>
  </div>
</div>
