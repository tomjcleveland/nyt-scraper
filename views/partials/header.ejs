<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>NYT Headlines</title>
    <meta name="description" content="See all A/B-tested NYT headlines" />

    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22256%22 height=%22256%22 viewBox=%220 0 100 100%22><rect width=%22100%22 height=%22100%22 rx=%2220%22 fill=%22%231f2937%22></rect><path fill=%22%23fff%22 d=%22%22></path></svg>" />

    <style>
      *, *:before, *:after {
        box-sizing: border-box;
      }

      body {
        max-width: 680px;
        margin: 0 auto;
        padding: 16px;
      }

      body, input {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
          "Segoe UI Symbol";
        color: #4B5563;
      }

      p, li {
        line-height: 1.5;
      }

      input {
        font-size: 1rem;
      }

      h1,h2,h3,h4,h5,h6 {
        color: #111827;
      }

      li + li {
        margin-top: 8px;
      }

      footer {
        text-align: center;
        padding: 24px 0;
      }

      summary>h2, summary>h3, summary,h4 {
        display: inline-block;
        cursor: pointer;
      }

      .headline-details {
        padding-left: 20px;
        border-left: 5px solid rgba(0, 0, 0, 0.1);
      }

      .unstyled-link {
        text-decoration: none;
        color: inherit;
      }

      #search {
        width: 100%;
        padding: 8px;
      }

      .autocomplete {
        background-color: white;
        border: 2px solid #4B5563;
      }

      .autocomplete div {
        padding: 8px;
        cursor: pointer;
      }

      .autocomplete div:hover {
        background-color: #F3F4F6;
      }

      .aspect {
        height: 0;
        overflow: hidden;
        background: white;
        position: relative;
      }

      .aspect-1-1 {
        padding-top: 100%;
      }

      .aspect-16-9 {
        padding-top: 36%;
      }

      .aspect-contents {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }

      .pill-box {
        display: flex;
        align-items: center;
      }

      .pill {
        display: inline-block;
        background-color: #E5E7EB;
        padding: 4px;
        font-size: 0.8rem;
      }
    </style>
  </head>

  <body>
    <script src="https://kraaden.github.io/autocomplete/autocomplete.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script>google.charts.load('current', {'packages':['corechart']});</script>
    <script>
      window.COLORS = JSON.parse('<%- JSON.stringify(COLORS) %>');
    </script>

    <div style="display: flex; align-items: center; justify-content: space-between;">
      <a href="/" class="unstyled-link"><h1 style="margin: 0;">NYT Headlines</h1></a>
      <div>
        <a href="/popular">Popular</a>
      </div>
    </div>
    <p>Examine the history of any New York Times headline.</p>
    <input autocomplete="off" id="search" placeholder="Search headlines...">
    <script>
      var input = document.getElementById("search");
      autocomplete({
          input: input,
          fetch: function(text, update) {
              text = text.toLowerCase();
              fetch(`/search?q=${encodeURIComponent(text.toLowerCase())}`)
                .then((resp) => resp.json())
                .then((results) => update(results.map(r => ({label: r.headline, value: r.uri.replace('nyt://article/', '')}))));
          },
          onSelect: function(item) {
            document.location.pathname = `/articles/${item.value}`;
          }
      });
    </script>
    <hr style="margin-top: 24px;">
